---
layout: post
title: 如何利用 AI 工具提高程序员的编码效率？一个老程序员的实战框架
tags: [AI, vibe-coding, Claude Code, 工作流, 编程效率]
---

# 如何利用 AI 工具提高程序员的编码效率？一个老程序员的实战框架

先说结论：**AI 编程工具提高效率的关键不是"让 AI 写更多代码"，而是"让你把时间花在真正值钱的事上"。**

我写了十几年代码，过去一年用 Claude Code、Codex 做了好几个完整项目——一个统一通知网关（Orion）、一个目录站（agentskill.work，半天上线）、一个自动化内容工具（ZhiForge）。效率提升是实打实的，但提升的方式和大多数人想的不一样。

---

## 一、先纠正一个误区：AI 不是"写代码更快的你"

很多人以为 AI 编程工具的价值是"帮你写代码更快"。

不是。

AI 真正改变的是**你的角色**：从"施工队"变成"总工+质检员"。

以前你花 70% 时间写代码、20% 时间调试、10% 时间思考设计。  
现在应该反过来：**10% 写代码（或者 AI 写）、30% 审查、60% 思考架构和验证。**

这才是效率提升的本质——不是做同样的事更快，而是把时间用在更值钱的环节。

---

## 二、我的实战工作流：四步可控交付

### 第一步：Git 刹车系统（必备）

AI 写代码很快，但最大的坑不是"不会写"，而是：
- 写得太快，改得太多
- 炸了没后路
- 炸完你不知道它改了哪些文件

所以每次让 AI 动手前：

```bash
# AI 改完先看改了什么
git status && git diff

# 小步提交，多打存档
git add . && git commit -m "feat: xxx"

# 大改前开分支
git switch -c feature/xxx
```

写崩了？`git switch main && git branch -D feature/xxx`，主线干干净净。

**这不是 Git 教程，这是保命手册。** 没有这套刹车，AI 写得越快你死得越惨。

### 第二步：项目规矩文件

Claude Code 会读项目根目录的 `CLAUDE.md`。我建议至少写清楚：

- 技术栈和版本
- 目录结构约定
- 代码风格（比如"注释必须英文"）
- 测试要求

这就像给施工队发图纸。没有图纸，AI 会自由发挥——然后你会花三倍时间收拾残局。

### 第三步：设计文档先行

**不要上来就让 AI 写代码。** 先让它写设计文档：

> "帮我设计一个通知网关的架构，要求支持飞书、邮件、短信三个渠道，需要幂等、重试、限流。先写设计文档，不要写代码。"

等你确认设计合理了，再让它动手。这一步能帮你省掉 50% 的返工。

### 第四步：竖切 MVP，逐步交付

不要让 AI 一次写完所有东西。按这个路径走：

1. **API 骨架** → 能跑起来
2. **单一渠道**（比如飞书）→ 端到端跑通
3. **存储层** → 数据能存能查
4. **可靠性** → 幂等、重试、熔断
5. **前端** → 能看能操作

每一步都验收、都提交。AI 写完一步，你审完一步，再开下一步。

---

## 三、真实案例：半天上线 agentskill.work

去年有个想法：做一个 GitHub Agent/Skill 仓库的目录站。

从想法到上线，半天。

AI 做的事：
- Next.js + FastAPI 全套代码
- GitHub API 抓取 + 限流 + 缓存
- Docker Compose 一键部署
- Nginx + SSL 证书配置
- Umami 埋点统计

我做的事（也是真正值钱的部分）：
- **限流策略**：GitHub API 有 rate limit，不控制节奏站就死了
- **降级方案**：API 挂了要能用上次的缓存兜底
- **部署链路**：Docker 镜像拉取、华为云 SWR 代理配置
- **数据闭环**：埋点统计，知道站有没有人用

AI 让"写出来"变得廉价，但让"做对"变得更贵。**关键节点的判断与把控——限流、降级、部署、监控——这些 AI 不会替你负责。**

---

## 四、另一个案例：Orion 通知网关

这是一个完整的开源项目，几乎所有代码都由 AI 生成，我主要做规范制定和审计。

我的做法：
- 写了 `AGENTS.md` 作为项目宪法，定义目录结构、提交规范、分支策略
- 每次 AI 提交都必须有一份 Markdown 记录（需求 → Prompt → AI 输出 → 审计）
- CI 强制检查：改了核心代码但没有 `agents_chat` 记录的 commit 直接打回

结果是：**AI 生成的过程可审计、可复现、可学习**，而不是一堆黑箱产物。

这比任何教程都更直观——不仅能看到"怎么写"，还能看到"为什么这么写"。

---

## 五、具体工具推荐和使用姿势

| 工具 | 适合场景 | 使用要点 |
|------|----------|----------|
| **Claude Code** | 完整项目开发、重构 | 给它 CLAUDE.md，用设计文档驱动 |
| **Codex** | 快速原型、脚本 | 适合一次性任务 |
| **Cursor** | 日常编码、局部修改 | Tab 补全 + Chat 组合 |

**关键姿势：**
- 不要把 AI 当搜索引擎用（"帮我写个排序"）
- 要把它当初级工程师用（"按这个设计文档实现第一版，写完跑测试"）
- 永远假设它会犯错，永远自己审查

---

## 六、防坑清单

1. **AI 生成的 API 可能不存在**：它会编造函数名。用之前务必查文档确认。
2. **AI 改动可能越界**：它可能改了你没让它改的文件。每次 `git diff` 必看。
3. **AI 不懂你的线上环境**：数据库连接串、端口冲突、镜像代理——这些必须你来。
4. **AI 风格会飘**：没有规矩文件，它写的代码今天是一个风格明天又换一个。

---

## 总结

用 AI 工具提高编码效率的核心公式：

**效率 = AI 生成速度 × 你的审查能力 × 工程判断力**

三个乘数，AI 只负责第一个。后两个决定了你能不能真正把效率转化成产出。

具体操作：
1. 装好 Git 刹车
2. 写好项目规矩
3. 设计文档先行
4. 竖切 MVP，逐步交付
5. 每步审查，每步提交

不需要什么花里胡哨的 prompt 技巧。把工程基本功做扎实，AI 自然能发挥最大价值。

---

*我是老拐，写了十几年代码的程序员，现在天天跟 AI 结对编程。更多 AI 编程实战经验，欢迎关注我的博客：[yfge.github.io](https://yfge.github.io)*
