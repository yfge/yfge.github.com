---
layout: post
title: 知炼(ZhiForge)：用 Claude Code 自动化知乎回答，顺手做成了一个 Skill
tags: [AI, vibe-coding, Claude Code, 知乎]
---

# 知炼(ZhiForge)：用 Claude Code 自动化知乎回答，顺手做成了一个 Skill

今天干了件事：让 Claude Code 自动帮我回答知乎问题。

从"我想自动化知乎回答"到"打包成可复用的 Claude Skill 并开源"，全程大概 2 小时。这篇文章记录一下整个过程。

---

## 起因：知乎邀请太多，手动写太累

我在知乎上会收到一些邀请回答，大多是 AI 编程、vibe-coding、Claude Code 相关的问题。

问题是：我博客里其实已经写过这些内容了。每次回答都是把博客内容改改发上去，重复劳动。

于是想：能不能让 AI 自动干这事？

---

## 思路：知识库 + Chrome 自动化

核心逻辑很简单：

1. **读取知乎邀请** - 看看有什么问题等我回答
2. **匹配知识库** - 从我的博客文章里找相关内容
3. **生成回答** - 基于博客内容撰写知乎风格的文章
4. **自动发布** - 操作浏览器完成发布

关键工具：
- **Claude Code** - 主力，负责理解、匹配、撰写
- **Chrome MCP** - 操作浏览器，读取页面、点击按钮、填写表单

---

## 实现：踩了一堆坑

### 坑1：知乎反爬虫

直接访问问题页面会触发 40362 错误。

解法：通过专栏写作页面 `zhuanlan.zhihu.com/write` 发布，然后"投稿至问题"。

### 坑2：Markdown 导入

知乎编辑器不能直接粘贴 Markdown，会显示为纯文本。

解法：用编辑器的"导入文档"功能上传 .md 文件。

### 坑3：对话框难关闭

"投稿至问题"的对话框点确定后不一定会关。

解法：按 ESC 强制关闭。

### 坑4：发布后报错但其实成功了

发布后页面跳转可能触发反爬虫，显示错误页面。但 URL 里有 `just_published=1` 就说明成功了。

解法：不看页面内容，看 URL。

---

## 打包成 Skill：让别人也能用

写完自动化脚本后，我想：这东西应该可以复用。

于是把它打包成了 Claude Code Skill：

```
/install-github-skill yfge/zhiforge
```

安装后配置一下知识库路径，就能用了：

```
/auto-zhihu
```

自动完成：搜索问题 → 去重 → 匹配知识库 → 撰写文章 → 发布。

---

## 项目结构

```
zhiforge/
├── .claude/
│   ├── commands/
│   │   ├── auto-zhihu.md      # 全自动流程
│   │   ├── check-zhihu.md     # 查看邀请
│   │   ├── draft-answer.md    # 草拟回答
│   │   └── publish-zhihu.md   # 发布文章
│   ├── settings.json          # 配置（知识库路径等）
│   └── settings.example.json  # 配置模板
├── CLAUDE.md
└── README.md
```

核心配置：

```json
{
  "knowledge_base": "/path/to/your/markdown/files",
  "blog_url": "https://your-blog.github.io",
  "author": {
    "zhihu_name": "你的知乎昵称",
    "wechat_official": "你的公众号"
  }
}
```

---

## 前置依赖：Chrome MCP

这个 Skill 需要 Chrome MCP 来操作浏览器。配置方法：

1. 安装：
```bash
npm install -g @anthropic/claude-code-mcp-chrome-devtools
```

2. 配置 `~/.claude/mcp.json`：
```json
{
  "mcpServers": {
    "chrome-devtools": {
      "command": "npx",
      "args": ["@anthropic/claude-code-mcp-chrome-devtools"]
    }
  }
}
```

3. 启动 Chrome 带调试端口：
```bash
/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --remote-debugging-port=9222
```

4. 在 Chrome 里登录知乎。

---

## 效果

今天用它自动回答了一个问题：

> GitHub 都没用明白，怎么用 AI 编程从零开发应用？

它从我的博客里找到了 Git 教程（夯）、抄项目搭底盘（抄）、学技术栈组合（学）这几篇文章，综合成了一篇知乎回答，自动发布。

全程我就敲了一个命令：`/auto-zhihu`

---

## 为什么叫"知炼"

起名的时候想了几个方向：

- 武侠风（呼应九阳神功）：知剑、答侠
- 简洁风：知墨、知流
- 技术风：ZhiForge、ZhiGhost

最后选了 **知炼 (ZhiForge)**：
- "炼"字体现从知识库 → 回答的转化过程
- 呼应"九阳神功"的炼功调性
- 中英文都能用

---

## 开源地址

GitHub: https://github.com/yfge/zhiforge

欢迎 Star、Fork、提 Issue。

---

## 总结

这个项目本身不复杂，但它展示了一个完整的 vibe-coding 工作流：

1. **有个想法** - 自动化知乎回答
2. **让 AI 实现** - Claude Code + Chrome MCP
3. **踩坑调试** - 反爬虫、Markdown 导入、对话框...
4. **打包复用** - 做成 Claude Skill
5. **开源分享** - 推到 GitHub

从想法到上线，2 小时。这就是 AI 时代的开发效率。

---

> 我是老拐，中年争取不油不丧积极向上的码农。更多 AI 编程实战，欢迎关注公众号「IT老拐瘦」或博客 yfge.github.io
